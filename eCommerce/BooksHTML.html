<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link href="Style/bootstrap.min.css" rel="stylesheet" />
    <script src="Style/jquery-1.11.2.min.js"></script>
    <script src="Style/bootstrap.min.js"></script>
    <title>Books App</title>
</head>
<body>
    <h2>Search Book by Title</h2>
    <div class="form-group col-lg-12">
        <div class="col-lg-3">
            <label  >Title:</label>
            <input type="text" class="form-control" id="KeywordTxt">
        </div>
        <div class="col-lg-2" style="padding-top: 24px">
            <div class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                    Condition
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a href="#">Author</a></li>
                    <li><a href="#">Title</a></li>
                    <li><a href="#">Genre</a></li>
                </ul>
            </div>
        </div>
        </div>
        <div col-lg-12">
        <div class="col-lg-2" style=" padding-left: 2em;">
            <div>
                <label><h5 id="Conditionlbl"></h5></label>
            </div>
            <button type="button"  id="SearchButton" class="btn btn-success">Search</button>
            
        </div>
        </div>

        <div>

            <div id="BooksContainer">
                <div class="col-lg-12">
                    <div class="col-lg-1"><h4> Author</h4></div>
                    <div class="col-lg-1"> <h4>Title</h4></div>
                    <div class="col-lg-1"><h4> Genre</h4></div>
                    <div class="col-lg-1"><h4> Price</h4></div>
                    <div class="col-lg-1"><h4> Publish Date</h4></div>
                    <div class="col-lg-7"> <h4>Description</h4></div>

                </div>

                <div class="col-lg-12" id="DataContainer">
                </div>
          
            </div>
        </div>
        <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
        <script>
        var uri = '/api/Book/';

        $(document).ready(function () {

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } 
        });



        function showPosition(position) {
            var position ={latitude:position.coords.latitude,longitude: position.coords.longitude}; 


        }

        function RegisterInfo(position)
        {

            $.ajax({
                url: uri + Keyword+";"+condition,
                type: "POST",
                contentType: "application/json;charset=utf-8",
                success: function (data) {
                    var BooksList = JSON.parse(data);
                    var TableElement = '';
                    for (var i = 0; i < BooksList.length; i++)
                    {
                        TableElement += '<div class="col-lg-1">' + BooksList[i].Author + '</div>';
                        TableElement += '<div class="col-lg-1">' + BooksList[i].Title + '</div>';
                        TableElement += '<div class="col-lg-1">' + BooksList[i].Genre + '</div>';
                        TableElement += '<div class="col-lg-1">' + BooksList[i].Price + '</div>';
                        TableElement += '<div class="col-lg-1">' + BooksList[i].PublishDate + '</div>';
                        TableElement += '<div class="col-lg-7" style="height:40px">' + BooksList[i].Description + '</div>';
                    }

                    $('#DataContainer').empty();
                    $('#DataContainer').append(TableElement);


                },
                error: function (xhr, error) {
                    var s = "";
            },
            });

        }
     

        //});

   

        </script>
</body>
</html>